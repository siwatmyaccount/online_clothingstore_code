<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<title>Noctis Wear - ร้านค้า</title>
<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
<style>
* { margin:0; padding:0; box-sizing:border-box; font-family: 'Roboto', sans-serif; }
body { background: linear-gradient(to bottom, #1a1a2e, #162447); color: #f5f5f5; }
header { display: flex; align-items: center; padding: 20px 40px; font-size: 36px; font-weight: 700; justify-content: space-between; color: #ffd700; box-shadow: 0 4px 10px rgba(0,0,0,0.3); background-color: rgba(0,0,0,0.6); }
nav button { margin-left: 10px; margin-right: 80px; padding: 8px 12px; border:none; border-radius:5px; cursor:pointer; font-weight:bold; background-color:#4d79ff; color:#fff; transition: transform 0.2s; }
nav button:hover { transform: scale(1.1); }
.description { text-align: left; padding: 20px 40px; font-size: 18px; color: #e0e0e0; background-color: rgba(255,255,255,0.05); border-left: 6px solid #ffd700; margin-bottom: 30px; border-radius: 8px; }
#searchContainer { text-align:center; margin-bottom:20px; }
#search { padding:8px; width:60%; max-width:400px; border-radius:8px; border:2px solid #ffd700; background-color:#1b1b2f; color:#ffd700; font-weight:bold; }
.products { display: flex; flex-wrap: wrap; justify-content: flex-start; gap: 25px; padding: 0 40px 40px 40px; }
.product-card { background-color: #222; border: 2px solid #ffd700; border-radius: 12px; width: calc(20% - 20px); padding: 15px; text-align: center; color: #fff; transition: transform 0.2s, box-shadow 0.2s; position: relative; overflow: hidden; }
.product-card:hover { transform: translateY(-5px); box-shadow: 0 8px 20px rgba(255, 215, 0, 0.5); }
.product-card img { width: 100%; border-radius: 10px; }
.product-card h3 { margin: 10px 0 5px 0; color: #ffd700; }
.product-card p { margin: 5px 0; color: #ddd; }
.product-card select, .product-card input[type="number"] { width: 100%; margin-bottom: 8px; padding: 8px; border-radius: 10px; border: 2px solid #ffd700; background-color: #1b1b2f; color: #ffd700; font-weight: bold; appearance: none; cursor: pointer; transition: transform 0.2s, box-shadow 0.2s; }
.product-card select:hover, .product-card input[type="number"]:hover { transform: scale(1.03); box-shadow: 0 0 10px rgba(255,215,0,0.7); }
.product-card button { margin: 5px 5px 0 5px; padding: 8px 12px; border: none; border-radius: 5px; cursor: pointer; font-weight: bold; transition: transform 0.2s; width: 48%; }
.buy-btn { background-color: #ff4d4d; color: #fff; }
.add-cart-btn { background-color: #4d79ff; color: #fff; }
.buy-btn:hover, .add-cart-btn:hover { transform: scale(1.05); }

.cart-container { position: fixed; top: 20px; right: 20px; text-align: center; z-index: 1000; }
.cart-btn { background-color: #ffd700; border-radius: 50%; width: 60px; height: 60px; display: flex; align-items: center; justify-content: center; cursor: pointer; box-shadow: 0 0 12px rgba(0,0,0,0.5); transition: transform 0.2s; }
.cart-btn:hover { transform: scale(1.1); }
.cart-btn img { width: 30px; }

.cart-panel { position: fixed; top: 0; right: -420px; width: 400px; height: 100%; background-color: #1b1b2f; box-shadow: -5px 0 15px rgba(0,0,0,0.5); padding: 20px; overflow-y: auto; transition: right 0.3s ease; z-index: 999; display: flex; flex-direction: column; }
.cart-panel.active { right: 0; }
.cart-panel h2 { text-align: center; color: #ffd700; margin-bottom: 20px; }
.cart-item { display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; padding: 10px; border: 1px solid #444; border-radius: 8px; background-color: #2e2e3e; color: #fff; }
.cart-item-info { flex: 1; text-align: left; }
.cart-item input[type="checkbox"] { margin-right: 10px; transform: scale(1.2); }
.cart-item input[type="number"] { width: 60px; margin-left: 5px; }
.cart-item button.delete-btn { background-color: #ff4d4d; color: #fff; border: none; border-radius: 5px; cursor: pointer; padding: 5px 8px; margin-left: 10px; transition: background-color 0.2s; }
.cart-item button.delete-btn:hover { background-color: #e60000; }
.cart-buttons { margin-top: auto; background-color: #1b1b2f; padding: 15px 0; display: flex; flex-direction: column; gap:10px; border-top: 2px solid #ffd700; }
.cart-buttons button { padding: 10px 20px; border: none; border-radius: 5px; cursor: pointer; font-weight: bold; transition: transform 0.2s; width: 90%; margin: 0 auto; }
.cart-buttons button:hover { transform: scale(1.05); }
.checkout-btn { background-color: #ff4d4d; color: #fff; }
.checkout-all-btn { background-color: #4d79ff; color: #fff; }
.clear-cart-btn { background-color:#888; color:#fff; }
#checkout-selected-btn { background-color:#ff9900; color:#fff; }

#order-form { display:none; margin:20px 40px; background-color:#222; padding:20px; border-radius:10px; border:2px solid #ffd700; }
#order-form label { display:block; margin-top:10px; font-weight:bold; }
#order-form input, #order-form textarea { width:100%; padding:8px; margin-top:5px; border-radius:8px; border:2px solid #ffd700; background:#1b1b2f; color:#ffd700; }
#order-form button { margin-top:15px; background:#ff4d4d; color:#fff; border:none; padding:10px 15px; border-radius:8px; cursor:pointer; font-weight:bold; transition:0.2s; }
#order-form button:hover { transform: scale(1.05); }

#order-items { margin-top:10px; max-height:200px; overflow-y:auto; border:1px solid #444; padding:10px; border-radius:8px; }

footer { background-color: #162447; color: #fff; padding: 30px 20px; text-align: center; margin-top: 30px; border-top: 2px solid #ffd700; }

.flying-img { position: absolute; width: 50px; height:50px; transition: transform 0.8s ease-in-out, opacity 0.8s ease-in-out; z-index: 1000; border-radius:5px; }
/* เอฟเฟกต์โกลว์ + นุ่มขึ้น */
body {
  background: linear-gradient(135deg, #0f0f1a, #1a1a2e, #162447);
  color: #f5f5f5;
}

/* Header หรูขึ้น */
header {
  background: rgba(0, 0, 0, 0.6);
  backdrop-filter: blur(10px);
  border-bottom: 2px solid rgba(255, 215, 0, 0.3);
  transition: 0.3s;
}
header:hover {
  background: rgba(0, 0, 0, 0.8);
}

/* Search bar glow */
#search {
  transition: 0.3s ease;
  box-shadow: 0 0 8px rgba(255, 215, 0, 0.2);
}
#search:focus {
  outline: none;
  box-shadow: 0 0 15px rgba(255, 215, 0, 0.7);
}

/* Product card หรู + Glow เวลา hover */
.product-card {
  position: relative;
  background: rgba(20, 20, 30, 0.9);
  backdrop-filter: blur(8px);
  border: 2px solid rgba(255, 215, 0, 0.3);
  transition: all 0.3s ease;
  overflow: hidden;
}
.product-card:hover {
  transform: translateY(-8px) scale(1.03);
  border: 2px solid #ffd700;
  box-shadow: 0 0 20px rgba(255, 215, 0, 0.6);
}
.product-card::after {
  content: "";
  position: absolute;
  top: -50%;
  left: -50%;
  width: 200%;
  height: 200%;
  background: linear-gradient(120deg, transparent, rgba(255,215,0,0.2), transparent);
  transform: rotate(25deg);
  transition: 0.5s;
  opacity: 0;
}
.product-card:hover::after {
  top: 0;
  left: 0;
  opacity: 1;
}

/* ปุ่ม */
.buy-btn, .add-cart-btn {
  transition: 0.3s ease;
}
.buy-btn:hover {
  background-color: #ff3333;
  box-shadow: 0 0 10px rgba(255, 77, 77, 0.8);
}
.add-cart-btn:hover {
  background-color: #3355ff;
  box-shadow: 0 0 10px rgba(77, 121, 255, 0.8);
}

/* Cart panel effect */
.cart-panel {
  background: rgba(20, 20, 35, 0.95);
  backdrop-filter: blur(12px);
  transition: right 0.4s cubic-bezier(0.77, 0, 0.175, 1);
  border-left: 2px solid rgba(255, 215, 0, 0.3);
}
.cart-item {
  transition: 0.3s;
}
.cart-item:hover {
  background-color: rgba(255, 215, 0, 0.1);
}

/* Footer */
footer {
  background: linear-gradient(135deg, #111, #222, #333);
  color: #ffd700;
  text-shadow: 0 0 8px rgba(255,215,0,0.4);
}
.product-card::after {
  content: "";
  position: absolute;
  top: -50%;
  left: -50%;
  width: 200%;
  height: 200%;
  background: linear-gradient(120deg, transparent, rgba(255,215,0,0.2), transparent);
  transform: rotate(25deg);
  transition: 0.5s;
  opacity: 0;
  pointer-events: none; /* ✅ ป้องกัน pseudo-element บล็อกปุ่ม */
}

.product-card button {
  position: relative; /* ✅ ปุ่มอยู่เหนือ pseudo-element */
  z-index: 1;
}


@media screen and (max-width: 900px){ .products { justify-content: center; } .product-card { width: 45%; } .cart-panel { width: 90%; } }
@media screen and (max-width: 500px){ .product-card { width: 90%; } .product-card button { width:100%; margin-top:5px; } }
</style>
</head>
<body>

<header>
    <span>Noctis Wear</span>
    <nav>
        <button onclick="window.location.href='index.html'">Home / หน้าแรก</button>
       
    </nav>
</header>

<section class="description">
<p>ยินดีต้อนรับสู่ <strong>Noctis Wear</strong> ร้านขายเสื้อแฟชั่นคุณภาพสูง มีทั้งเสื้อยืด เสื้อฮู้ด และเสื้อเชิ้ตหลากหลายสไตล์ สำหรับทุกโอกาส</p>
</section>

<div id="searchContainer">
<input type="text" id="search" placeholder="ค้นหาสินค้า...">
</div>

<section class="products" id="products"></section>

<div class="cart-container">
<div class="cart-btn" id="cartBtn">
<img src="https://cdn-icons-png.flaticon.com/512/1170/1170678.png" alt="cart">
</div>
</div>

<div class="cart-panel" id="cartPanel">
<h2>ตะกร้าของคุณ</h2>
<div id="cartItems"></div>
<div class="cart-buttons">
<button id="selectAllBtn">เลือก/ยกเลิกทั้งหมด</button>
<button id="checkoutSelectedBtn">ชำระเงินสินค้าที่เลือก</button>
<button id="checkoutAllBtn">ชำระเงินทั้งหมด</button>
<button id="clearCartBtn">ล้างตะกร้า</button>
</div>
</div>

<div id="order-form">
<h2>กรอกข้อมูลผู้สั่งซื้อ</h2>
<div id="order-items"></div>
<label>ชื่อ-นามสกุล:</label>
<input type="text" id="customer-name" required>
<label>เบอร์โทร:</label>
<input type="text" id="customer-phone" required>
<label>ที่อยู่:</label>
<textarea id="customer-address" required></textarea>
<button id="placeOrderBtn">ยืนยันสั่งซื้อ</button>
</div>

<footer>
<p>ติดต่อเรา:</p>
<p>อีเมล: noctiswear@example.com | โทร: 080-123-4567 | ไลน์: @noctiswear</p>
</footer>

<script>
const productsContainer = document.getElementById('products');
const cartPanel = document.getElementById('cartPanel');
const cartItemsContainer = document.getElementById('cartItems');
const orderForm = document.getElementById('order-form');
const orderItemsDiv = document.getElementById('order-items');
let cart = JSON.parse(localStorage.getItem('cart')) || [];
let tempBuyNowCart = null;

const productNames = [
"เสื้อยืด Lumix","เสื้อยืด Vortex","เสื้อแฟชั่น Nova","เสื้อฮู้ด Eclipse",
"เสื้อเชิ้ต Orion","เสื้อยืด Comet","เสื้อแฟชั่น Nebula","เสื้อฮู้ด Galaxy",
"เสื้อเชิ้ต Meteor","เสื้อยืด Aurora"
];
const colors = ["ขาว","ดำ","น้ำเงิน","เหลือง","แดง","เทา"];

function createProductCards(){
    productsContainer.innerHTML='';
    productNames.forEach((name,i)=>{
        const price = 250+i*15;
        const card=document.createElement('div');
        card.className='product-card';
        card.dataset.name=name.toLowerCase();
        card.dataset.colors = colors.join(',').toLowerCase();
        card.dataset.sizes = "s,m,l,xl";
        card.innerHTML=`
            <img src="https://via.placeholder.com/200x200.png?text=${encodeURIComponent(name)}" 
                 alt="${name}" onerror="this.src='https://via.placeholder.com/200x200.png?text=No+Image'">
            <h3>${name}</h3>
            <p>ราคา: ${price} บาท</p>
            <label>ไซส์:</label>
            <select id="size${i}">
                <option value="S">S</option>
                <option value="M" selected>M</option>
                <option value="L">L</option>
                <option value="XL">XL</option>
            </select>
            <label>สี:</label>
            <select id="color${i}">${colors.map(c=>`<option value="${c}">${c}</option>`).join('')}</select>
            <label>จำนวน:</label>
            <input type="number" id="qty${i}" value="1" min="1">
            <button class="buy-btn" onclick="buyNow(${i})">ซื้อเลย</button>
            <button class="add-cart-btn" onclick="addToCart(${i})">เพิ่มตะกร้า</button>
        `;
        productsContainer.appendChild(card);
    });
}

function addToCart(i){
   
    const name = productNames[i];
    const size = document.getElementById(`size${i}`).value;
    const color = document.getElementById(`color${i}`).value;
    const qty = parseInt(document.getElementById(`qty${i}`).value);
    const price = 250+i*15;
    const item = {name, size, color, qty, price};
    cart.push(item);
    localStorage.setItem('cart', JSON.stringify(cart));
    flyToCart(i);
    renderCart();
    cartPanel.classList.add('active'); // ✅ เด้งเปิดตะกร้าอัตโนมัติ
}

function buyNow(i){
    tempBuyNowCart = [];
    const name = productNames[i];
    const size = document.getElementById(`size${i}`).value;
    const color = document.getElementById(`color${i}`).value;
    const qty = parseInt(document.getElementById(`qty${i}`).value);
    const price = 250+i*15;
    tempBuyNowCart.push({name,size,color,qty,price});
    openOrderForm(tempBuyNowCart);
}

function renderCart(){
    cartItemsContainer.innerHTML='';
    cart.forEach((item,index)=>{
        const div = document.createElement('div');
        div.className='cart-item';
        div.innerHTML=`
            <input type="checkbox" data-index="${index}">
            <div class="cart-item-info">
                ${item.name} | ไซส์: ${item.size} | สี: ${item.color} <br> ราคา: ${item.price} x 
                <input type="number" min="1" value="${item.qty}" onchange="updateQty(${index},this.value)">
            </div>
            <button class="delete-btn" onclick="deleteItem(${index})">ลบ</button>
        `;
        cartItemsContainer.appendChild(div);
    });
}

function updateQty(i,value){
    cart[i].qty = parseInt(value);
    localStorage.setItem('cart', JSON.stringify(cart));
}

function deleteItem(i){
    if(confirm('ลบสินค้านี้ออกจากตะกร้าหรือไม่?')){
        cart.splice(i,1);
        localStorage.setItem('cart', JSON.stringify(cart));
        renderCart();
    }
}

document.getElementById('cartBtn').addEventListener('click', ()=>{
    cartPanel.classList.toggle('active');
    renderCart();
});

document.getElementById('clearCartBtn').addEventListener('click', ()=>{
    if(confirm('ล้างตะกร้าหรือไม่?')){
        cart = [];
        localStorage.setItem('cart', JSON.stringify(cart));
        renderCart();
    }
});

document.getElementById('selectAllBtn').addEventListener('click', ()=>{
    document.querySelectorAll('#cartItems input[type="checkbox"]').forEach(cb=>cb.checked=!cb.checked);
});

document.getElementById('checkoutAllBtn').addEventListener('click', ()=>{
    if(cart.length===0){ alert('ตะกร้าว่าง'); return; }
    openOrderForm(cart);
});

document.getElementById('checkoutSelectedBtn').addEventListener('click', ()=>{
    const selected = [];
    document.querySelectorAll('#cartItems input[type="checkbox"]').forEach(cb=>{
        if(cb.checked){ selected.push(cart[parseInt(cb.dataset.index)]); }
    });
    if(selected.length===0){ alert('เลือกสินค้าเพื่อชำระเงิน'); return; }
    openOrderForm(selected);
});

function openOrderForm(items){
    orderItemsDiv.innerHTML = items.map(it=>`${it.name} | ไซส์:${it.size} | สี:${it.color} | จำนวน:${it.qty} | ราคา:${it.price*it.qty} บาท`).join('<br>');
    orderForm.style.display='block';
    window.scrollTo({top: orderForm.offsetTop, behavior:'smooth'});
}

document.getElementById('placeOrderBtn').addEventListener('click', ()=>{
    const name=document.getElementById('customer-name').value;
    const phone=document.getElementById('customer-phone').value;
    const addr=document.getElementById('customer-address').value;
    if(!name||!phone||!addr){ alert('กรอกข้อมูลให้ครบ'); return; }
    alert('สั่งซื้อสำเร็จ!\nขอบคุณคุณ '+name);
    orderForm.style.display='none';
    if(tempBuyNowCart){ tempBuyNowCart=null; }
    else{ cart=[]; localStorage.setItem('cart', JSON.stringify(cart)); renderCart(); }
    document.getElementById('customer-name').value='';
    document.getElementById('customer-phone').value='';
    document.getElementById('customer-address').value='';
});

function flyToCart(i){
    const img = document.querySelectorAll('.product-card img')[i];
    const clone = img.cloneNode(true);
    const rect = img.getBoundingClientRect();
    clone.style.position='absolute';
    clone.style.left=rect.left+'px';
    clone.style.top=rect.top+'px';
    clone.style.width=rect.width+'px';
    clone.style.height=rect.height+'px';
    clone.classList.add('flying-img');
    document.body.appendChild(clone);
    const cartRect = document.getElementById('cartBtn').getBoundingClientRect();
    setTimeout(()=>{ 
        clone.style.left = cartRect.left+'px';
        clone.style.top = cartRect.top+'px';
        clone.style.width='30px';
        clone.style.height='30px';
        clone.style.opacity='0';
    },10);
    setTimeout(()=>{ document.body.removeChild(clone); },800);
}

document.getElementById('search').addEventListener('input', (e)=>{
    const q=e.target.value.toLowerCase();
    document.querySelectorAll('.product-card').forEach(card=>{
        card.style.display = card.dataset.name.includes(q)?'block':'none';
    });
});

createProductCards();
renderCart();
</script>

</body>
</html>
